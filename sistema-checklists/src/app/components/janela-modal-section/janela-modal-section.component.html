@if (sectionData) {
  <div class="modal-header">
    <h5 class="modal-title" id="modal-basic-title">Checklist - {{ sectionData.key || 'Seção' }}</h5>
    <button type="button" class="btn-close" aria-label="Close" (click)="dismiss('Cross click')"></button>
  </div>
  <div class="modal-body">
    <!-- Imagem Fixa (proveniente de nome_imagem ou serviço) -->
    @if (imagemFixa) {
      <div class="text-center mb-3">
        <img [src]="imagemFixa" alt="Imagem Fixa" class="img-fluid" style="max-height: 400px; max-width: 100%;" />
      </div>
    }

    <!-- Imagem da Tela -->
    @if (sectionData.tela) {
      <div class="text-center mb-3">
        <img [src]="sectionData.tela" alt="Tela da Seção" class="img-fluid" style="max-height: 400px; max-width: 100%;" />
      </div>
    }

    <!-- URL da Seção -->
    @if (sectionData.url) {
      <p><strong>URL:</strong> <a [href]="sectionData.url" target="_blank">{{ sectionData.url }}</a></p>
    }

    <!-- Comentários -->
    @if (sectionData.Comentarios?.length) {
      <h6><strong>Comentários:</strong></h6>
      <ul>
        @for (comentario of sectionData.Comentarios; track comentario) {
          <li class="mb-2">{{ comentario || 'Sem comentário detalhado' }}</li>
        }
      </ul>
    } @else {
      <p><strong>Comentários:</strong> Nenhum</p>
    }

    <!-- Funcionalidades -->
    @if (sectionData.Funcionalidades?.length) {
      <h6><strong>Funcionalidades:</strong></h6>
      <ul>
        @for (funcionalidade of sectionData.Funcionalidades; track funcionalidade) {
          <li>{{ funcionalidade }}</li>
        }
      </ul>
    } @else {
      <p><strong>Funcionalidades:</strong> Nenhuma</p>
    }

    <!-- Tickets -->
    @if (sectionData.Tickets?.length) {
      <h6><strong>Tickets:</strong></h6>
      @for (ticket of sectionData.Tickets; track ticket) {
        <div class="mb-3">
          @if (isTicket(ticket)) {
            @if (ticket.descricao) {
              <p><strong>Descrição:</strong> {{ ticket.descricao }}</p>
            }
            @if (ticket.articulacao_solucionar) {
              <p><strong>Articulação:</strong> {{ ticket.articulacao_solucionar }}</p>
            }
            @if (ticket.url_ticket) {
              <p><strong>URL do Ticket:</strong> <a [href]="ticket.url_ticket" target="_blank">{{ ticket.url_ticket }}</a></p>
            }
          } @else {
            <p>{{ ticket }}</p>
          }
        </div>
      }
    } @else {
      <p><strong>Tickets:</strong> Nenhum</p>
    }

    <!-- Subseções -->
    @if (sectionData.Subsecoes && objectKeys(sectionData.Subsecoes).length) {
      <h6><strong>Subseções:</strong></h6>
      <ul>
        @for (subsecaoKey of objectKeys(sectionData.Subsecoes); track subsecaoKey) {
          <li>{{ subsecaoKey }}</li>
        }
      </ul>
    } @else {
      <p><strong>Subseções:</strong> Nenhuma</p>
    }
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-secondary" (click)="dismiss('Cancel')">Cancelar</button>
    <button type="button" class="btn btn-primary" (click)="close('Save')">Salvar</button>
  </div>
} @else {
  <div class="modal-header">
    <h5 class="modal-title" id="modal-basic-title">Erro</h5>
    <button type="button" class="btn-close" aria-label="Close" (click)="dismiss('Cross click')"></button>
  </div>
  <div class="modal-body">
    <p>Dados da seção não disponíveis.</p>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-secondary" (click)="dismiss('Cancel')">Fechar</button>
  </div>
}